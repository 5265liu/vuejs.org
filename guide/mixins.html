
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Mixins - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="icon" href="/vuejs.org/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/vuejs.org/css/page.css">
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/vuejs.org/js/vue.js"></script>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/vuejs.org/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/vuejs.org/">
    <img src="/vuejs.org/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" style="background-image: url(/vuejs.org/images/search.png)">
  </form>
</li>
<li><a href="/vuejs.org/guide/" class="nav-link current">教程</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">博客</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">社区</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">论坛</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">聊天室</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input" style="background-image: url(/vuejs.org/images/search.png)">
  </form>
</li>
<li><a href="/vuejs.org/guide/" class="nav-link current">教程</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">博客</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">社区</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">论坛</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">聊天室</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
        <div id="donate" style="margin-bottom: 20px">
            <span class="wrapper" style="width: 110px">
              <img src="/vuejs.org/images/patreon.png">
              <a href="/vuejs.org/support-vuejs" title="支持 Vue.js">支持 Vue.js</a>
            </span>
        </div>
        <a class="github-button" href="https://github.com/hayeah/vuejs.org/issues" data-count-api="/repos/hayeah/vuejs.org#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue hayeah/vuejs.org on GitHub">给翻译组提意见</a>
        <h2>
            Guide
            <select class="version-select">
                <option value="SELF" selected>2.0</option>
                <option value="v1">1.0</option>
                <option value="012">0.12</option>
                <option value="011">0.11</option>
            </select>
        </h2>
        <ul class="menu-root">
            
                
                
                  <li><h3>核心</h3></li>
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/installation.html" class="sidebar-link">安装 (Installation)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/index.html" class="sidebar-link">Introduction</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/instance.html" class="sidebar-link">Vue 实例 (The Vue Instance)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/syntax.html" class="sidebar-link">模版语法 (Template Syntax)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/computed.html" class="sidebar-link">计算属性和监视器 (Computed Properties and Watchers)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/class-and-style.html" class="sidebar-link">class 与 style 绑定 (Class and Style Bindings)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/conditional.html" class="sidebar-link">条件渲染 (Conditional Rendering)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/list.html" class="sidebar-link">列表渲染 (List Rendering)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/events.html" class="sidebar-link">Event Handling</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/forms.html" class="sidebar-link">表单控件绑定 (Form Input Bindings)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/components.html" class="sidebar-link">组件 (Components)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/reactivity.html" class="sidebar-link">深入响应式原理 (Reactivity in Depth)</a>
                </li>
            
                
                
                
                  <li><h3>进阶</h3></li>
                
                
                
                <li>
                    <a href="/vuejs.org/guide/transitions.html" class="sidebar-link">Transition Effects</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/transitioning-state.html" class="sidebar-link">Transitioning State</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/render-function.html" class="sidebar-link">渲染函数 (Render Functions)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/custom-directive.html" class="sidebar-link">自定义指令 (Custom Directives)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/mixins.html" class="sidebar-link current">Mixins</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/plugins.html" class="sidebar-link">插件 (Plugins)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/single-file-components.html" class="sidebar-link">Single File Components</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/deployment.html" class="sidebar-link">Deploying For Production</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/routing.html" class="sidebar-link">路由 (Routing)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/state-management.html" class="sidebar-link">状态管理 (State Management)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/unit-testing.html" class="sidebar-link">单元测试 (Unit Testing)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/ssr.html" class="sidebar-link">Server-Side Rendering</a>
                </li>
            
                
                
                
                
                  <li><h3>迁移</h3></li>
                
                
                <li>
                    <a href="/vuejs.org/guide/migration.html" class="sidebar-link">Migration from Vue 1.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/migration-vue-router.html" class="sidebar-link">Migration from Vue Router 0.7.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/migration-vuex.html" class="sidebar-link">从 Vuex 0.6.x 迁移到 1.0 (Migration from Vuex 0.6.x to 1.0)</a>
                </li>
            
                
                
                
                
                
                  <li><h3>更多</h3></li>
                
                <li>
                    <a href="/vuejs.org/guide/comparison.html" class="sidebar-link">Comparison with Other Frameworks</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/join.html" class="sidebar-link">加入 vue.js 社区！ (Join the Vue.js Community!)</a>
                </li>
            
        </ul>
    </div>
</div>


<div class="content guide with-sidebar mixins-guide">
    
      <div id="ad">
  <span>Sponsored By</span><br>
  <a href="http://www.thedifferenceengine.io/" target="_blank"
    style="background-color: rgba(0,0,0,.85); padding: 10px 0">
    <img src="/vuejs.org/images/tde.png">
  </a>
  <!-- <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script> -->
  <a class="github-button" href="https://github.com/hayeah/vuejs.org/issues" data-count-api="/repos/hayeah/vuejs.org#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue hayeah/vuejs.org on GitHub">给翻译组提意见</a>

</div>

    
    
      <h1>Mixins</h1>
    
    <hr>
<p>标题: 混合<br>类型: 指南</p>
<h2 id="排序-17"><a href="#排序-17" class="headerlink" title="排序: 17"></a>排序: 17</h2><h2 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h2><h2 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h2><p>Mixins are a flexible way to distribute reusable functionalities for Vue components. A mixin object can contain any component options. When a component uses a mixin, all options in the mixin will be “mixed” into the component’s own options.<br>混合以一种灵活的方式为 Vue 组件提供可复用功能。混合对象可以包含任意的组件选项。当组件使用了混合对象时，混合对象的所有选项将被“混入”组件自己的选项中。</p>
<p>Example:<br>示例：<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// define a mixin object</span></div><div class="line"><span class="comment">// 定义一个混合对象</span></div><div class="line"><span class="keyword">var</span> myMixin = &#123;</div><div class="line">  <span class="attr">created</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.hello()</div><div class="line">  &#125;,</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">hello</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'hello from mixin!'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// define a component that uses this mixin</span></div><div class="line"><span class="comment">// 定义一个组件，使用这个混合对象</span></div><div class="line"><span class="keyword">var</span> Component = Vue.extend(&#123;</div><div class="line">  <span class="attr">mixins</span>: [myMixin]</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> component = <span class="keyword">new</span> Component() <span class="comment">// -&gt; "hello from mixin!"</span></div></pre></td></tr></table></figure></p>
<h2 id="Option-Merging"><a href="#Option-Merging" class="headerlink" title="Option Merging"></a>Option Merging</h2><h2 id="选项合并"><a href="#选项合并" class="headerlink" title="选项合并"></a>选项合并</h2><p>When a mixin and the component itself contain overlapping options, they will be “merged” using appropriate strategies. For example, hook functions with the same name are merged into an array so that all of them will be called. In addition, mixin hooks will be called <strong>before</strong> the component’s own hooks:<br>当混合对象与组件包含同名选项时，这些选项将以适当的策略合并。例如，同名钩子函数被并入一个数组，因而都会被调用。另外，混合的钩子将在组件自己的钩子之前调用：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> mixin = &#123;</div><div class="line">  <span class="attr">created</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'mixin hook called'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">mixins</span>: [mixin],</div><div class="line">  <span class="attr">created</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'component hook called'</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">// -&gt; "mixin hook called"</span></div><div class="line"><span class="comment">// -&gt; "component hook called"</span></div></pre></td></tr></table></figure>
<p>Options that expect object values, for example <code>methods</code>, <code>components</code> and <code>directives</code>, will be merged into the same object. The component’s options will take priority when there are conflicting keys in these objects:<br>值为对象的选项，如 <code>methods</code>, <code>components</code> 和 <code>directives</code> 将合并到同一个对象内。如果键冲突则组件的选项优先:<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> mixin = &#123;</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">foo</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'foo'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">conflicting</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'from mixin'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">mixins</span>: [mixin],</div><div class="line">  <span class="attr">methods</span>: &#123;</div><div class="line">    <span class="attr">bar</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'bar'</span>)</div><div class="line">    &#125;,</div><div class="line">    <span class="attr">conflicting</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="string">'from self'</span>)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">vm.foo() <span class="comment">// -&gt; "foo"</span></div><div class="line">vm.bar() <span class="comment">// -&gt; "bar"</span></div><div class="line">vm.conflicting() <span class="comment">// -&gt; "from self"</span></div></pre></td></tr></table></figure></p>
<p>Note that the same merge strategies are used in <code>Vue.extend()</code>.<br>注意 <code>Vue.extend()</code> 使用同样的合并策略。</p>
<h2 id="Global-Mixin"><a href="#Global-Mixin" class="headerlink" title="Global Mixin"></a>Global Mixin</h2><h2 id="全局混合"><a href="#全局混合" class="headerlink" title="全局混合"></a>全局混合</h2><p>You can also apply a mixin globally. Use caution! Once you apply a mixin globally, it will affect <strong>every</strong> Vue instance created afterwards. When used properly, this can be used to inject processing logic for custom options:<br>也可以全局注册混合。小心使用！一旦全局注册混合，它会影响所有之后创建的 Vue 实例。如果使用恰当，可以为自定义选项注入处理逻辑：<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// inject a handler for `myOption` custom option</span></div><div class="line"><span class="comment">// 为 `myOption` 自定义选项注入一个处理器</span></div><div class="line">Vue.mixin(&#123;</div><div class="line">  <span class="attr">created</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> myOption = <span class="keyword">this</span>.$options.myOption</div><div class="line">    <span class="keyword">if</span> (myOption) &#123;</div><div class="line">      <span class="built_in">console</span>.log(myOption)</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">myOption</span>: <span class="string">'hello!'</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">// -&gt; "hello!"</span></div></pre></td></tr></table></figure></p>
<p class="tip">Use global mixins sparsely and carefully, because it affects every single Vue instance created, including third party components. In most cases, you should only use it for custom option handling like demonstrated in the example above. It’s also a good idea to ship them as <a href="/guide/plugins.html">Plugins</a> to avoid duplicate application.</p><br><p class="tip">慎用全局混合，因为它影响到每个创建的 Vue 实例，包括第三方组件。在大多数情况下，它应当只用于自定义选项，就像上面示例一样。把他收入<a href="/guide/plugins.html">Plugins</a> 去避免重复的应用也是不错的选择。</p>

<h2 id="Custom-Option-Merge-Strategies"><a href="#Custom-Option-Merge-Strategies" class="headerlink" title="Custom Option Merge Strategies"></a>Custom Option Merge Strategies</h2><h2 id="自定义选项合并策略"><a href="#自定义选项合并策略" class="headerlink" title="自定义选项合并策略"></a>自定义选项合并策略</h2><p>When custom options are merged, they use the default strategy, which simply overwrites the existing value. If you want a custom option to be merged using custom logic, you need to attach a function to <code>Vue.config.optionMergeStrategies</code>:<br>在合并自定义选项时，默认的合并策略是简单的覆盖已有值。如果你想用自定义逻辑合并自定义选项，可以向 <code>Vue.config.optionMergeStrategies</code> 添加一个函数：<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.config.optionMergeStrategies.myOption = <span class="function"><span class="keyword">function</span> (<span class="params">toVal, fromVal</span>) </span>&#123;</div><div class="line">  <span class="comment">// return mergedVal</span></div><div class="line">  <span class="comment">// 返回 mergedVal</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>For most object-based options, you can simply use the same strategy used by <code>methods</code>:<br>对于大多数值为对象的选项，你可以简单地使用 <code>methods</code> 所用的合并策略：<br><figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">var</span> strategies = Vue.config.optionMergeStrategies</div><div class="line">strategies.myOption = strategies.methods</div></pre></td></tr></table></figure></p>
<p>A more advanced example can be found on <a href="https://github.com/vuejs/vuex" target="_blank" rel="external">Vuex</a>‘s 1.x merging strategy:<br>在 <a href="https://github.com/vuejs/vuex" target="_blank" rel="external">Vuex 1.x</a> 和合并策略中，可以找到更多的进阶示例：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="keyword">const</span> merge = Vue.config.optionMergeStrategies.computed</div><div class="line">Vue.config.optionMergeStrategies.vuex = <span class="function"><span class="keyword">function</span> (<span class="params">toVal, fromVal</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (!toVal) <span class="keyword">return</span> fromVal</div><div class="line">  <span class="keyword">if</span> (!fromVal) <span class="keyword">return</span> toVal</div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    <span class="attr">getters</span>: merge(toVal.getters, fromVal.getters),</div><div class="line">    <span class="attr">state</span>: merge(toVal.state, fromVal.state),</div><div class="line">    <span class="attr">actions</span>: merge(toVal.actions, fromVal.actions)</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/vuejs.org/guide/custom-directive.html">自定义指令 (Custom Directives)</a></span>
        
        
          <span style="float:right"><a href="/vuejs.org/guide/plugins.html">插件 (Plugins)</a> →</span>
        
      </div>
    
    <div class="footer">
      Caught a mistake or want to contribute to the documentation?
      <a href="https://github.com/vuejs/vuejs.org/blob/master/src/guide/mixins.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
            <script src="/vuejs.org/js/smooth-scroll.min.js"></script>
            <script src="/vuejs.org/js/common.js"></script>
        

        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        </script>
    </body>
</html>
