
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>自定义指令 (Custom Directives) - vue.js</title>
        <meta charset="utf-8">
        <meta name="description" content="Vue.js - Intuitive, Fast and Composable MVVM for building interactive interfaces.">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
        <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Roboto Mono' rel='stylesheet' type='text/css'>
        <link href='//fonts.googleapis.com/css?family=Dosis:500&text=Vue.js' rel='stylesheet' type='text/css'>
        <link href="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css" rel='stylesheet' type='text/css'>
        <link rel="icon" href="/vuejs.org/images/logo.png" type="image/x-icon">
        <script>
            window.PAGE_TYPE = "guide"
        </script>
        <link rel="stylesheet" href="/vuejs.org/css/page.css">
        <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46852172-1', 'vuejs.org');
  ga('send', 'pageview');
</script>
        <script src="/vuejs.org/js/vue.js"></script>
        <script async defer src="https://buttons.github.io/buttons.js"></script>
    </head>
    <body class="docs">        <div id="mobile-bar" >
            <a class="menu-button"></a>
            <a class="logo" href="/vuejs.org/"></a>
        </div>
        <div id="header">
  <a id="logo" href="/vuejs.org/">
    <img src="/vuejs.org/images/logo.png">
    <span>Vue.js</span>
  </a>
  <ul id="nav">
    <li>
  <form id="search-form">
    <input type="text" id="search-query-nav" class="search-query st-default-search-input" style="background-image: url(/vuejs.org/images/search.png)">
  </form>
</li>
<li><a href="/vuejs.org/guide/" class="nav-link current">教程</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">博客</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">社区</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">论坛</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">聊天室</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


  </ul>
</div>

        
            <div id="main" class="fix-sidebar">
                
                    
    <div class="sidebar">
    <ul class="main-menu">
        <li>
  <form id="search-form">
    <input type="text" id="search-query-sidebar" class="search-query st-default-search-input" style="background-image: url(/vuejs.org/images/search.png)">
  </form>
</li>
<li><a href="/vuejs.org/guide/" class="nav-link current">教程</a></li>
<li><a href="/vuejs.org/api/" class="nav-link">API</a></li>
<li><a href="/vuejs.org/examples/" class="nav-link">示例</a></li>
<li><a href="https://medium.com/the-vue-point" target="_blank" class="nav-link">博客</a></li>
<li class="nav-dropdown-container">
  <a class="nav-link">社区</a><span class="arrow"></span>
  <ul class="nav-dropdown">
    <li><a href="https://github.com/vuejs/vue" class="nav-link" target="_blank">GitHub</a></li>
    <li><a href="http://forum.vuejs.org" class="nav-link" target="_blank">论坛</a></li>
    <li><a href="https://gitter.im/vuejs/vue" class="nav-link" target="_blank">聊天室</a></li>
    <li><a href="https://twitter.com/vuejs" class="nav-link" target="_blank">Twitter</a></li>
  </ul>
</li>


    </ul>
    <div class="list">
        <div id="donate" style="margin-bottom: 20px">
            <span class="wrapper" style="width: 110px">
              <img src="/vuejs.org/images/patreon.png">
              <a href="/vuejs.org/support-vuejs" title="Support Vue.js">Support Vue.js</a>
            </span>
        </div>
        <a class="github-button" href="https://github.com/hayeah/vuejs.org/issues" data-count-api="/repos/hayeah/vuejs.org#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue hayeah/vuejs.org on GitHub">给翻译组提意见</a>
        <h2>
            Guide
            <select class="version-select">
                <option value="SELF" selected>2.0</option>
                <option value="v1">1.0</option>
                <option value="012">0.12</option>
                <option value="011">0.11</option>
            </select>
        </h2>
        <ul class="menu-root">
            
                
                
                  <li><h3>Essentials</h3></li>
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/installation.html" class="sidebar-link">安装 (Installation)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/index.html" class="sidebar-link">Introduction</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/instance.html" class="sidebar-link">Vue 实例 (The Vue Instance)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/syntax.html" class="sidebar-link">模版语法 (Template Syntax)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/computed.html" class="sidebar-link">计算属性和监视器 (Computed Properties and Watchers)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/class-and-style.html" class="sidebar-link">Class and Style Bindings</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/conditional.html" class="sidebar-link">条件渲染 (Conditional Rendering)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/list.html" class="sidebar-link">列表渲染 (List Rendering)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/events.html" class="sidebar-link">Event Handling</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/forms.html" class="sidebar-link">表单控件绑定 (Form Input Bindings)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/components.html" class="sidebar-link">组件 (Components)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/reactivity.html" class="sidebar-link">深入响应式原理 (Reactivity in Depth)</a>
                </li>
            
                
                
                
                  <li><h3>Advanced</h3></li>
                
                
                
                <li>
                    <a href="/vuejs.org/guide/transitions.html" class="sidebar-link">Transition Effects</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/transitioning-state.html" class="sidebar-link">Transitioning State</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/render-function.html" class="sidebar-link">Render Functions</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/custom-directive.html" class="sidebar-link current">自定义指令 (Custom Directives)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/mixins.html" class="sidebar-link">Mixins</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/plugins.html" class="sidebar-link">插件 (Plugins)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/single-file-components.html" class="sidebar-link">Single File Components</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/deployment.html" class="sidebar-link">Deploying For Production</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/routing.html" class="sidebar-link">路由 (Routing)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/state-management.html" class="sidebar-link">状态管理 (State Management)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/unit-testing.html" class="sidebar-link">单元测试 (Unit Testing)</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/ssr.html" class="sidebar-link">Server-Side Rendering</a>
                </li>
            
                
                
                
                
                  <li><h3>Migrating</h3></li>
                
                
                <li>
                    <a href="/vuejs.org/guide/migration.html" class="sidebar-link">Migration from Vue 1.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/migration-vue-router.html" class="sidebar-link">Migration from Vue Router 0.7.x</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/migration-vuex.html" class="sidebar-link">Migration from Vuex 0.6.x to 1.0</a>
                </li>
            
                
                
                
                
                
                  <li><h3>Meta</h3></li>
                
                <li>
                    <a href="/vuejs.org/guide/comparison.html" class="sidebar-link">Comparison with Other Frameworks</a>
                </li>
            
                
                
                
                
                
                <li>
                    <a href="/vuejs.org/guide/join.html" class="sidebar-link">加入 vue.js 社区！ (Join the Vue.js Community!)</a>
                </li>
            
        </ul>
    </div>
</div>


<div class="content guide with-sidebar custom-directive-guide">
    
      <div id="ad">
  <span>Sponsored By</span><br>
  <a href="http://www.thedifferenceengine.io/" target="_blank"
    style="background-color: rgba(0,0,0,.85); padding: 10px 0">
    <img src="/vuejs.org/images/tde.png">
  </a>
  <!-- <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=vuejs" id="_carbonads_js"></script> -->
  <a class="github-button" href="https://github.com/hayeah/vuejs.org/issues" data-count-api="/repos/hayeah/vuejs.org#open_issues_count" data-count-aria-label="# issues on GitHub" aria-label="Issue hayeah/vuejs.org on GitHub">给翻译组提意见</a>

</div>

    
    
      <h1>自定义指令 (Custom Directives)</h1>
    
    <h2 id="简介-Intro"><a href="#简介-Intro" class="headerlink" title="简介 (Intro)"></a>简介 (Intro)</h2><p>In addition to the default set of directives shipped in core (<code>v-model</code> and <code>v-show</code>), Vue also allows you to register your own custom directives. Note that in Vue 2.0, the primary form of code reuse and abstraction is components - however there may be cases where you just need some low-level DOM access on plain elements, and this is where custom directives would still be useful. An example would be focusing on an input element, like this one:<br>除了 Vue 默认提供的指令（如：<code>v-model</code>，<code>v-show</code>），Vue 也支持自定义指令。Vue 2.0 主要通过组件来进行代码重用和抽象，但有时需要对网页元素做一些底层的 DOM 操作，此时自定义指令仍会非常有用。比如说，把焦点定位到 input 元素，代码如下：</p>

<div id="simplest-directive-example" class="demo">
  <input v-focus="">
</div>
<script>
Vue.directive('focus', {
  inserted: function (el) {
    el.focus()
  }
})
new Vue({
  el: '#simplest-directive-example'
})
</script>

<p>When the page loads, that element gains focus. In fact, if you haven’t clicked on anything else since visiting this page, the input above should be focused now. Now let’s build the directive that accomplishes this:<br>当页面加载时，焦点会定位到该元素。实际上，如果你进入本页面之后没有点击任何东西，焦点应该已经定位到上面的输入控件了。现在，让我们来完成这个指令：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line"><span class="comment">// Register a global custom directive called v-focus</span></div><div class="line"><span class="comment">// 注册一个全局的自定义指令： v-focus</span></div><div class="line">Vue.directive(<span class="string">'focus'</span>, &#123;</div><div class="line">  <span class="comment">// When the bound element is inserted into the DOM...</span></div><div class="line">  <span class="comment">// 当绑定的元素被插入到 DOM 时...</span></div><div class="line">  inserted: <span class="function"><span class="keyword">function</span> (<span class="params">el</span>) </span>&#123;</div><div class="line">    <span class="comment">// Focus the element</span></div><div class="line">    <span class="comment">// 将焦点定位到元素</span></div><div class="line">    el.focus()</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>If you want to register a directive locally instead, components also accept a <code>directives</code> option:<br>如果你要注册一个本地指令，组件也接受 <code>directives</code> 选项：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">directives: &#123;</div><div class="line">  <span class="attr">focus</span>: &#123;</div><div class="line">    <span class="comment">// directive definition</span></div><div class="line">    <span class="comment">// 指令定义</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Then in a template, you can use the new <code>v-focus</code> attribute on any element, like this:<br>然后在模版中，在元素上使用新建的 <code>v-foucs</code> 属性：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">v-focus</span>&gt;</span></div></pre></td></tr></table></figure>
<h2 id="钩子函数-Hook-Functions"><a href="#钩子函数-Hook-Functions" class="headerlink" title="钩子函数 (Hook Functions)"></a>钩子函数 (Hook Functions)</h2><p>A directive definition object can provide several hook functions (all optional):<br>定义一个指令时，支持多种钩子函数（全部可选项）：</p>
<ul>
<li><code>bind</code>: called only once, when the directive is first bound to the element. This is where you can do one-time setup work.</li>
<li><p><code>bind</code>：只触发一次，当指令初次绑定到元素时触发。此处可以做些一次性的配置。</p>
</li>
<li><p><code>inserted</code>: called when the bound element has been inserted into its parent node (this only guarantees parent node presence, not necessarily in-document).</p>
</li>
<li><p><code>inserted</code>: 当元素被插入其父元素时触发（只需保证父元素存在，不要求父元素必须在网页文档中）</p>
</li>
<li><p><code>update</code>: called after the containing component has updated, <strong>but possibly before its children have updated</strong>. The directive’s value may or may not have changed, but you can skip unnecessary updates by comparing the binding’s current and old values (see below on hook arguments).</p>
</li>
<li><p><code>update</code>：当所包含的组件更新时触发，<strong>但有可能是在它的子组件更新之前</strong>。该指令的值可能改变也可能不改变。可以通过比较当前值是否变化来略过不必要的更新操作。（详见下文钩子参数）</p>
</li>
<li><p><code>componentUpdated</code>: called after the containing component <strong>and its children</strong> have updated.</p>
</li>
<li><p><code>componentUpdated</code>：包含的组件<strong>以及它的子组件</strong>完成更新后触发。</p>
</li>
<li><p><code>unbind</code>: called only once, when the directive is unbound from the element.</p>
</li>
<li><code>unbind</code>：只触发一次，当指令解除绑定时触发。</li>
</ul>
<p>We’ll explore the arguments passed into these hooks (i.e. <code>el</code>, <code>binding</code>, <code>vnode</code>, and <code>oldVnode</code>) in the next section.<br>下一节我们将探讨以上这些钩子函数（即 <code>el</code>、<code>binding</code>、<code>vnode</code> 和 <code>oldVnode</code>）的参数。</p>
<h2 id="钩子函数的参数-Directive-Hook-Arguments"><a href="#钩子函数的参数-Directive-Hook-Arguments" class="headerlink" title="钩子函数的参数 (Directive Hook Arguments)"></a>钩子函数的参数 (Directive Hook Arguments)</h2><p>Directive hooks are passed these arguments:<br>指令中的参数：</p>
<ul>
<li><strong>el</strong>: The element the directive is bound to. This can be used to directly manipulate the DOM.</li>
<li><strong>el</strong>: 被绑定的元素，可用来直接操作 DOM。</li>
<li><strong>binding</strong>: An object containing the following properties.</li>
<li><strong>binding</strong>: 一个包含下列属性的对象。<ul>
<li><strong>name</strong>: The name of the directive, without the <code>v-</code> prefix.</li>
<li><strong>name</strong>: 指令的名称，没有 <code>v-</code> 前缀。</li>
<li><strong>value</strong>: The value passed to the directive. For example in <code>v-my-directive=&quot;1 + 1&quot;</code>, the value would be <code>2</code>.</li>
<li><strong>value</strong>L: 传递给指令的值。比如：<code>v-my-directive=&quot;1 + 1&quot;</code>，指令的值就是 2。</li>
<li><strong>oldValue</strong>: The previous value, only available in <code>update</code> and <code>componentUpdated</code>. It is available whether or not the value has changed.</li>
<li><strong>oldValue</strong>: 前一个值，仅于 <code>update</code> 和 <code>componentUpdated</code> 事件中提供。无论值是否改变，oldValue 都会传递。</li>
<li><strong>expression</strong>: The expression of the binding as a string. For example in <code>v-my-directive=&quot;1 + 1&quot;</code>, the expression would be <code>&quot;1 + 1&quot;</code>.</li>
<li><strong>expression</strong>: 字符串类型，指令中传入的表达式，比如 <code>v-my-directive=&quot;1 + 1&quot;</code>，表达式是 <code>&quot;1 + 1&quot;</code></li>
<li><strong>arg</strong>: The argument passed to the directive, if any. For example in <code>v-my-directive:foo</code>, the arg would be <code>&quot;foo&quot;</code>.</li>
<li><strong>arg</strong>: 传递给指令的参数，可空。比如：<code>v-my-directive:foo</code>，则 arg 为 <code>&quot;foo&quot;</code>。</li>
<li><strong>modifiers</strong>: An object containing modifiers, if any. For example in <code>v-my-directive.foo.bar</code>, the modifiers object would be <code>{ foo: true, bar: true }</code>.</li>
<li><strong>modifiers</strong>: 一个包含修饰符（如果有）的对象。比如在 <code>v-my-directive.foo.bar</code> 中，修饰符对象就是 <code>{ foo: true, bar: true }</code>。</li>
</ul>
</li>
<li><strong>vnode</strong>: The virtual node produced by Vue’s compiler. See the <a href="/api/#VNode-Interface">VNode API</a> for full details.</li>
<li><strong>vnode</strong>: Vue 的编译器生成的虚拟节点。详情参考 <a href="/api/#VNode-Interface">VNode API</a>。</li>
<li><strong>oldVnode</strong>: The previous virtual node, only available in the <code>update</code> and <code>componentUpdated</code> hooks.</li>
<li><strong>oldVnode</strong>: 上一个虚拟节点， 仅在 <code>update</code> 和 <code>componentUpdated</code> 事件中提供。</li>
</ul>
<p class="tip">Apart from <code>el</code>, you should treat these arguments as read-only and never modify them. If you need to share information across hooks, it is recommended to do so through element’s <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset" target="_blank" rel="external">dataset</a>.<br>除了<code>el</code>，其它参数应被视作只读，不应被更改或编辑。若钩子函数之间需要通信，建议使用 <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/dataset" target="_blank" rel="external">dataset</a>。</p>

<p>An example of a custom directive using some of these properties:<br>下面是一个调试指令参数的示例：</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"hook-arguments-example"</span> <span class="attr">v-demo:hello.a.b</span>=<span class="string">"message"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, &#123;</div><div class="line">  <span class="attr">bind</span>: <span class="function"><span class="keyword">function</span> (<span class="params">el, binding, vnode</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> s = <span class="built_in">JSON</span>.stringify</div><div class="line">    el.innerHTML =</div><div class="line">      <span class="string">'name: '</span>       + s(binding.name) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'value: '</span>      + s(binding.value) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'expression: '</span> + s(binding.expression) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'argument: '</span>   + s(binding.arg) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'modifiers: '</span>  + s(binding.modifiers) + <span class="string">'&lt;br&gt;'</span> +</div><div class="line">      <span class="string">'vnode keys: '</span> + <span class="built_in">Object</span>.keys(vnode).join(<span class="string">', '</span>)</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">new</span> Vue(&#123;</div><div class="line">  <span class="attr">el</span>: <span class="string">'#hook-arguments-example'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">    <span class="attr">message</span>: <span class="string">'hello!'</span></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>

<div id="hook-arguments-example" v-demo:hello.a.b="message" class="demo"></div>
<script>
Vue.directive('demo', {
  bind: function (el, binding, vnode) {
    var s = JSON.stringify
    el.innerHTML =
      'name: '       + s(binding.name) + '<br>' +
      'value: '      + s(binding.value) + '<br>' +
      'expression: ' + s(binding.expression) + '<br>' +
      'argument: '   + s(binding.arg) + '<br>' +
      'modifiers: '  + s(binding.modifiers) + '<br>' +
      'vnode keys: ' + Object.keys(vnode).join(', ')
  }
})
new Vue({
  el: '#hook-arguments-example',
  data: {
    message: 'hello!'
  }
})
</script>

<h2 id="简略的写法-Function-Shorthand"><a href="#简略的写法-Function-Shorthand" class="headerlink" title="简略的写法 (Function Shorthand)"></a>简略的写法 (Function Shorthand)</h2><p>In many cases, you may want the same behavior on <code>bind</code> and <code>update</code>, but don’t care about the other hooks. For example:<br>如果指令只需要处理<code>bind</code>和<code>update</code>事件，可以简写为如下形式：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'color-swatch'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  el.style.backgroundColor = binding.value</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h2 id="对象字面量-Object-Literals"><a href="#对象字面量-Object-Literals" class="headerlink" title="对象字面量 (Object Literals)"></a>对象字面量 (Object Literals)</h2><p>If your directive needs multiple values, you can also pass in a JavaScript object literal. Remember, directives can take any valid JavaScript expression.<br>如果指令需要多个值，可以传入一个 JavaScript 对象字面量，亦可以是任何有效的 JavaScript 表达式。</p>
<figure class="highlight html"><table><tr><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-demo</span>=<span class="string">"&#123; color: 'white', text: 'hello!' &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="code"><pre><div class="line">Vue.directive(<span class="string">'demo'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">el, binding</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(binding.value.color) <span class="comment">// =&gt; "white"</span></div><div class="line">  <span class="built_in">console</span>.log(binding.value.text)  <span class="comment">// =&gt; "hello!"</span></div><div class="line">&#125;)</div></pre></td></tr></table></figure>

    
      <div class="guide-links">
        
          <span>← <a href="/vuejs.org/guide/render-function.html">Render Functions</a></span>
        
        
          <span style="float:right"><a href="/vuejs.org/guide/mixins.html">Mixins</a> →</span>
        
      </div>
    
    <div class="footer">
      Caught a mistake or want to contribute to the documentation?
      <a href="https://github.com/vuejs/vuejs.org/blob/master/src/guide/custom-directive.md" target="_blank">
        Edit this page on Github!
      </a>
    </div>
</div>

                
            </div>
            <script src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script>
            <script src="/vuejs.org/js/smooth-scroll.min.js"></script>
            <script src="/vuejs.org/js/common.js"></script>
        

        <script src="//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js"></script>
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                FastClick.attach(document.body);
            }, false);
        </script>
    </body>
</html>
